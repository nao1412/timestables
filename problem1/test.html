<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>test</title>
  </head>
  <body>
    <p>
      <label>START: <input type="number" size="10" id="START"></label>
      <label>GOAL: <input type="number" size="10" id="GOAL"></label>
      <input type="button" value="run" id="runButton">
    </p>
    <p id="msg"></p>
    <p id="answer"></p>
    <script>
      function buttonClick() {
        // msg.innerText = '名前は' + START.value + 'さんですね';
        var START = 1;
        var GOAL = 9;
        let ESCAPE = [];
        let nnn = [];
        let mmm = [];

        let times_tables = [];
        let clm = [], idx = [];
        for (let i = START; i <= GOAL; i++) {
          clm.push('x' + String(i))
          if (ESCAPE.includes(i)) continue;
          let TABLE = [];
          idx.push(String(i) + ' times')
          for (let j = START; j <= GOAL; j++) {
            if (nnn.length > 0) {
              for (let k = 0; k < nnn.length; k++) {
                if ((i * j) % nnn[k] == 0) {
                  TABLE.push(String(i) + "x" + String(j) + "=" + String(i*j));
                } else {
                  TABLE.push("");
                }
              }
            } else if (mmm.length > 0) {
              for (let k = 0; k < mmm.length; k++) {
                if ((i * j) % mmm[k] == 0) {
                  TABLE.push("");
                } else {
                  TABLE.push(String(i) + "x" + String(j) + "=" + String(i*j));
                }
              }
            } else {
              TABLE.push(String(i) + "x" + String(j) + "=" + String(i*j));
            }
          }
          times_tables.push(TABLE);
        }

        console.log(times_tables);
        const transpose = a => a[0].map((_, c) => a.map(r => r[c]));
        data = transpose(times_tables);
        console.log(data);
        msg.innerText = 'answer' + START.value
        answer.innerText = data
      }

      let START = document.getElementById('START');
      START.value = '名前';
      let msg = document.getElementById('msg');

      let runButton = document.getElementById('runButton');
      runButton.addEventListener('click', buttonClick(START));
    </script>
  </body>
</html>